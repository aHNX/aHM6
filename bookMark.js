!function(e){let t=JSON.parse(localStorage.getItem("pukuBm"))||[],l=()=>{localStorage.setItem("pukuBm",JSON.stringify(t)),sAt(eqS(e,".hBook label"),"count",t.length);let l=eqS(e,".Bookmark"),i="";t.length>0?(t.forEach(e=>{i+='<ul><li id="'+e.id+'"><a href="'+e.url+'" title="'+e.title+'">'+e.title+'</a><span class="bmDel">'+TS.bookmark.bmDelIcon+"</span></li></ul>"}),l&&(l.innerHTML=i)):l&&(l.innerHTML=TS.bookmark.noBmText),a()},i=e=>{t.push(e),l()},o=i=>{t=t.filter(e=>e.id!==i),l(),egId(e,"bm-"+i)&&(egId(e,"bm-"+i).checked=!1),tsNotif(TS.bookmark.removedBmText)},a=()=>{let t=eqSA(e,".bmDel");t.length>0&&t.forEach(e=>{let t=gAt(e.parentNode,"id");aE(e,"click",()=>{o(t),shake(40)})})},n;l(),(n=eqSA(e,".Bookmark_Post input")).length>0&&n.forEach(e=>{aE(e,"change",()=>{tsNotif(TS.bookmark.addedBmText),shake(40);let l=e.id.split("-")[1],a=e.parentNode,n={id:l,title:gAt(eqS(a,"label"),"title"),url:gAt(eqS(a,"label"),"url")};t&&t.find(e=>e.id==l)?o(l):i(n)})}),t.length>0&&t.forEach(t=>{egId(e,"bm-"+t.id)&&(egId(e,"bm-"+t.id).checked=!0)})}(document);
